---
import { getNav } from "../utils.ts";

const content = await getNav("fr");
console.log(content);

import {
  Compass,
  Repository,
  Edit,
  BrainElectricity,
  Wrench,
  LeaderboardStar,
  AppleImac2021Side,
  GitHub,
  Twitter,
  LinkedIn,
  JournalPage,
} from "iconoir-react";

import { motion } from "framer-motion";

const pathname = new URL(Astro.request.url).pathname;
const currentPath = pathname.slice(1); // remove the first "/"
---

<nav
  class="bg-black-2 fixed flex flex-col gap-[40px] h-screen border-r border-black-3 text-grey-1 py-[40px] px-[24px]"
>
  <a href="" class="flex gap-[12px] hover:opacity-80 duration-200 ease-out">
    <img src="/me.jpg" alt="profile-picture" class="rounded-full h-[40px]" />
    <div class="flex flex-col gap-[2px] text-[14px]">
      <p class="font-medium text-white">Kylian Bardini</p>
      <div class="w-full h-[20px] flex flex-col overflow-hidden">
        <motion.span
          client:load
          initial={{ y: 0, opacity: 1 }}
          animate={{ y: -20, opacity: 0 }}
          transition={{
            delay: 8,
            duration: 0.7,
            type: "spring",
            repeat: 999999,
            repeatType: "mirror",
            ease: "easeInOut",
            repeatDelay: 8,
            stiffness: 100,
          }}
        >
          {content.me.job}
        </motion.span>
        <motion.span
          client:load
          initial={{ y: 0, opacity: 0 }}
          animate={{ y: -20, opacity: 1 }}
          transition={{
            delay: 8,
            duration: 0.7,
            type: "spring",
            repeat: 999999,
            repeatType: "mirror",
            ease: "easeInOut",
            repeatDelay: 8,
            stiffness: 100,
          }}
        >
          {content.me.spec}
        </motion.span>
      </div>
    </div>
  </a>
  <div class="flex flex-col gap-[32px] w-full text-[14px]">
    <div class="flex flex-col gap-[2px] w-full">
      <a href="">
        <div
          class={(currentPath == ""
            ? "border border-grey-2 bg-black-3 text-white "
            : "") +
            "flex gap-[10px] items-center w-full rounded-[6px] px-[12px] py-[8px] hover:text-white duration-150 ease-out group"}
        >
          <Compass
            className="group-hover:rotate-[10deg] transition-all"
            width={20}
            height={20}
            strokeWidth="1.2"
          />
          {content.links.explore}
        </div>
      </a>
      <a href="">
        <div
          class={(currentPath == "projects"
            ? "border border-grey-2 bg-black-3 text-white "
            : "") +
            "flex gap-[10px] items-center w-full rounded-[6px] px-[12px] py-[8px] hover:text-white duration-150 ease-out group"}
        >
          <Repository
            className="group-hover:rotate-[10deg] transition-all"
            width={20}
            height={20}
            strokeWidth="1.2"
          />
          {content.links.projects}
        </div>
      </a>
      <a href="">
        <div
          class={(currentPath == "blog"
            ? "border border-grey-2 bg-black-3 text-white "
            : "") +
            "flex gap-[10px] items-center w-full rounded-[6px] px-[12px] py-[8px] hover:text-white duration-150 ease-out group"}
        >
          <Edit
            className="group-hover:rotate-[10deg] transition-all"
            width={20}
            height={20}
            strokeWidth="1.2"
          />
          {content.links.blog}
        </div>
      </a>
      <a href="">
        <div
          class={(currentPath == "contact"
            ? "border border-grey-2 bg-black-3 text-white "
            : "") +
            "flex gap-[10px] items-center w-full rounded-[6px] px-[12px] py-[8px] hover:text-white duration-150 ease-out group"}
        >
          <BrainElectricity
            className="group-hover:rotate-[10deg] transition-all"
            width={20}
            height={20}
            strokeWidth="1.2"
          />
          {content.links.hire}
        </div>
      </a>
    </div>
    <div class="flex flex-col gap-[2px] w-full text-[14px]">
      <div class="ml-[12px]">
        <p class="font-medium text-grey-1 text-[10px]">{content.subtitle.resources}</p>
      </div>
      <a href="">
        <div
          class={(currentPath == "skills"
            ? "border border-grey-2 bg-black-3 text-white "
            : "") +
            "flex gap-[10px] items-center w-full rounded-[6px] px-[12px] py-[8px] hover:text-white duration-150 ease-out group"}
        >
          <LeaderboardStar
            className="group-hover:rotate-[10deg] transition-all"
            width={20}
            height={20}
            strokeWidth="1.2"
          />
          {content.links.skills}
        </div>
      </a>
      <a href="">
        <div
          class={(currentPath == "tools"
            ? "border border-grey-2 bg-black-3 text-white "
            : "") +
            "flex gap-[10px] items-center w-full rounded-[6px] px-[12px] py-[8px] hover:text-white duration-150 ease-out group"}
        >
          <Wrench
            className="group-hover:rotate-[10deg] transition-all"
            width={20}
            height={20}
            strokeWidth="1.2"
          />
          {content.links.stack}
        </div>
      </a>
      <a href="">
        <div
          class={(currentPath == "now"
            ? "border border-grey-2 bg-black-3 text-white "
            :"")+ "flex gap-[10px] items-center w-full rounded-[6px] px-[12px] py-[8px] hover:text-white duration-150 ease-out group"}
        >
          <AppleImac2021Side
            className="group-hover:rotate-[10deg] transition-all"
            width={20}
            height={20}
            strokeWidth="1.2"
          />
          {content.links.now}
        </div>
      </a>
    </div>
    <div class="flex flex-col gap-[2px] w-full text-[14px]">
      <div class="ml-[12px]">
        <p class="font-medium text-grey-1 text-[10px]">SOCIAL</p>
      </div>
      <a href="https://github.com/kbrdn1" target="_blank">
        <div
          class="flex gap-[10px] items-center w-full rounded-[6px] px-[12px] py-[8px] hover:text-white duration-150 ease-out group"
        >
          <GitHub
            className="group-hover:rotate-[10deg] transition-all"
            width={20}
            height={20}
            strokeWidth="1.2"
          />
          GitHub
        </div>
      </a>
      <a href="https://twitter.com/kbrdn1" target="_blank">
        <div
          class="flex gap-[10px] items-center w-full rounded-[6px] px-[12px] py-[8px] hover:text-white duration-150 ease-out group"
        >
          <Twitter
            className="group-hover:rotate-[10deg] transition-all"
            width={20}
            height={20}
            strokeWidth="1.2"
          />
          Twitter
        </div>
      </a>
      <a
        href="https://www.linkedin.com//in/kylian-bardini-aa0528234/"
        target="_blank"
      >
        <div
          class="flex gap-[10px] items-center w-full rounded-[6px] px-[12px] py-[8px] hover:text-white duration-150 ease-out group"
        >
          <LinkedIn
            className="group-hover:rotate-[10deg] transition-all"
            width={20}
            height={20}
            strokeWidth="1.2"
          />
          LinkedIn
        </div>
      </a>
      <a href="">
        <div
          class="flex gap-[10px] items-center w-full rounded-[6px] px-[12px] py-[8px] hover:text-white duration-150 ease-out group"
        >
          <JournalPage
            className="group-hover:rotate-[10deg] transition-all"
            width={20}
            height={20}
            strokeWidth="1.2"
          />
          {content.links.cv}
        </div>
      </a>
    </div>
  </div>
</nav>
